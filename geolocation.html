<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>weather</title>

    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">
    <link rel="stylesheet" href="ajax.css">
  </head>

  <body>

      <header>

      </header>

      <section>

      </section>

    <script>
    var header = document.querySelector('header');
    var section = document.querySelector('section');
    var requestURL = 'http://api.openweathermap.org/data/2.5/weather?lat=';
    var appID = '&APPID=20bb47a9e07cd3fd298fe2dd460ce3eb';
    var request = new XMLHttpRequest();
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
      //if geolocation fails
    }
    function populateHeader(jsonObj) {
    // where you want to put the information
    //  var myH1 = document.getElementByID('h1');
      var myH1 = document.createElement('h1');
      var jsonWeather = jsonObj['weather'];
      var jsonTemp = jsonObj['main'].temp;
      var jsonName = jsonObj['name'];
      //get information by jsonWeather."Whateverinfo"
      myH1.textContent = jsonWeather[0].description;
      header.appendChild(myH1);
    }
    function showPosition(position) {
      var search = requestURL + Math.round(position.coords.latitude) +'&lon='+ Math.round(position.coords.longitude) + appID;
      request.open('GET', search);
      request.responseType = 'json';
      request.send();
      request.onload = function() {
        var weather = request.response;
        populateHeader(weather);
        show(weather);
      }
    }
    </script>
  </body>
</html>
